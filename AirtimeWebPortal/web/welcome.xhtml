<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:tp="http://java.sun.com/jsf/composite/ecomp"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        
        <title>Home - Mobile A</title>
        
        <link href="css_cust/bootstrap.css" rel="stylesheet"/> 
        <link rel="stylesheet" href="css_cust/fontawesome/css/font-awesome.min.css" />
        
        <link href="css_cust/style.css" rel="stylesheet"/>
        <link href="css_cust/menu.css" rel="stylesheet"/>
        <link href="css_cust/topheader.css" rel="stylesheet"/>
        <link href="css_cust/footer.css" rel="stylesheet"/>
        <link href="css_cust/forms.css" rel="stylesheet" />
        <link href="css_cust/hover.css" rel="stylesheet" />
        <link href="css_cust/mobmenu.css" rel="stylesheet" />
        
        <script type="text/javascript" src="js_cust/jquery-1.12.0.min.js"></script>	
        <script type="text/javascript" src="js_cust/bootstrap.min2.js"></script>	
        
        <link href="js_cust/easyresponsivetabs/easy-responsive-tabs.css" rel="stylesheet" />
        <script src="js_cust/easyresponsivetabs/easy-responsive-tabs.js" type="text/javascript"></script>
        
        <link href="js_cust/datatable/jquery.dataTables.min.css" rel="stylesheet" />
        <link href="js_cust/datatable/buttons.dataTables.min.css" rel="stylesheet" />
        <script type="text/javascript" src="js_cust/datatable/jquery.dataTables.min.js"></script>	
        <script type="text/javascript" src="js_cust/datatable/dataTables.buttons.min.js"></script>	
        <script type="text/javascript" src="js_cust/datatable/buttons.flash.min.js"></script>	
        <script type="text/javascript" src="js_cust/datatable/jszip.min.js"></script>	
        <script type="text/javascript" src="js_cust/datatable/pdfmake.min.js"></script>	
        <script type="text/javascript" src="js_cust/datatable/vfs_fonts.js"></script>	
        <script type="text/javascript" src="js_cust/datatable/buttons.html5.min.js"></script>
        
        <script>
            $(document).ready(function () {
                $('#dataTableList').DataTable({
                    "paging": true,
                    "iDisplayLength":7,
                    "searching": true,
                    "ordering": true,
                    "order": [[ 0, "desc" ]],
                    "info": true,
                    dom: 'Bfrtip',
                    buttons: [
                        'excelHtml5',
                        'csvHtml5',
                        'pdfHtml5'
                    ]
                });
            });
        </script>
        
        
        <link type="text/css" href="js_cust/lightcase/lightcase.css" rel="stylesheet"  />
        <script type="text/javascript" src="js_cust/lightcase/lightcase.js"></script>
        <script type="text/javascript" src="js_cust/lightcase/lightcase.init.js"></script>
    </h:head>
    <h:body>
        
        <ui:include src="templates/header_inside.xhtml" />  
        
        <!-- CONTENTS-->
        <div class="container-fluid">
            <div class="col-xs-12 maincontents">
                
                <!-- ROW 1 -->
                
                <!-- customer box -->
                <div class="col-xs-12 col-sm-12 col-md-6 thebox">
                    <div class="col-xs-12 dashboardbox_account" style="margin:0px;margin-top:27px;padding:0px;min-height:420px">
                        <!-- IN -->
                        <h2>Account Status</h2>
                        
                        <span>
                            <div class="container-fluid" style="padding:0px;font-family:ubuntu;text-align:center;">
                                
                                <div class="col-xs-12" style="padding:0px;font-family:ubuntu;text-align:left;border-bottom:1px solid #f0f0f0">
                                    <span style="color:#ff5700;"><label style="width:60px;text-align:center;margin-right:5px;color:#9f9f9f;"><i class="fa fa-user" aria-hidden="true"></i> </label><strong><h:outputText value="#{LoginBean.lm.customerDetails.fName}"/></strong></span>
                                    <span style="color:#ff5700;"><label style="width:60px;text-align:center;margin-right:5px;color:#9f9f9f;"><i class="fa fa-phone" aria-hidden="true"></i></label><strong><h:outputText value="#{LoginBean.msisdn}"/></strong></span>
                                    <span style="color:#ff5700;"><label style="width:60px;text-align:center;margin-right:5px;color:#9f9f9f;"><i class="fa fa-envelope" aria-hidden="true"></i></label><strong><h:outputText value="#{LoginBean.lm.customerDetails.email}"/></strong></span>
                                </div>
                                
                                <span class="homeamount">&#8358;
                                    <strong>
                                        <h:outputText value="#{WelcomeBean.walletBalance.balance}">
                                            <f:convertNumber integerOnly="true"/>
                                        </h:outputText>
                                    </strong>
                                </span>
                                
                                <i>Latest account balance : 
                                    <h:outputText value="#{WelcomeBean.date}">
                                        <f:convertDateTime type="date" pattern="EEE, d MMM yyyy HH:mm" timeZone="CAT"/>
                                    </h:outputText></i>
                                
                            </div>
                        </span>
                        <!-- IN -->
                    </div>
                </div>
                <!--end customer box -->
                
                
                <!-- buy airtime box -->
                <div class="col-xs-12 col-sm-12 col-md-6 thebox">
                    <div class="col-xs-12 dashboardbox" style="margin:0px;margin-top:27px;padding:0px;min-height:420px">
                        <!-- IN -->
                        <span style="padding:0px;margin:0px;">
                            <div  class="container-fluid" style="padding:0px;font-family:ubuntu;font-size:13px;">
                                <!-- Tabs -->
                                <ul class="nav nav-tabs">
                                    <li class="active">
                                        <a data-toggle="tab" href="#toone">
                                            <strong class="hidemob">SEND</strong> AIRTIME
                                        </a>
                                    </li>
                                    <li>
                                        <a data-toggle="tab" href="#tomany">
                                            <strong class="hidemob">SEND</strong> TO MANY
                                        </a>
                                    </li>
                                    <li>
                                        <a data-toggle="tab" href="#favorites">FAVORITE</a>
                                    </li>
                                    
                                </ul>
                                
                                <div class="tab-content">
                                    
                                    <div id="toone" class="tab-pane fade in active">
                                        
                                        <!-- FORM -->
                                        <h:form class="container-fluid login_form" id="send_one"  style="margin-top:45px;">
                                            <div class="col-xs-12 login_theinput">
                                                <h:inputText id="number" class="ico_phone" style="padding-left:0px;text-align: center" a:placeholder="Enter Phone Number" value="#{WelcomeBean.phone}"/>
                                            </div>
                                            <div class="col-xs-12 login_theinput">
                                                <h:inputText id="name" class="ico_name" style="padding-left:0px;text-align: center"  a:placeholder="Enter Full Name"/>
                                            </div>
                                            <div class="col-xs-12 login_theinput">
                                                <h:inputText id="amount" class="ico_naira" style="padding-left:0px;text-align: center" a:placeholder="Enter Amount" value="#{WelcomeBean.amount}"/>
                                            </div>
                                            <div class="col-xs-12 login_submitinput">
                                                <h:commandButton value="SEND" action="#{WelcomeBean.confirm()}" onclick="lightcaseON=true">
                                                    <f:ajax execute="send_one" onevent="notifyEdit()"  rendererType="postValidate" render=":editDetailsContentPanel :edit_form" />
                                                </h:commandButton>
                                            </div>
                                        </h:form>
                                        <!-- End FORM -->
                                        
                                        <div id="warning" class="col-xs-12 warning">This is where warnings are displayed!</div>
                                        
                                        
                                    </div>
                                    
                                    
                                    <div id="tomany" class="tab-pane fade">
                                        
                                        <!-- FORM -->
                                        <h:form class="container-fluid login_form" id="send_many"  style="margin-top:45px;">
                                            
                                            
                                            <span class="col-xs-12 send_tomany">
                                                <div class="col-xs-12 col-sm-4 send_theinput">
                                                    <div class="sendairtime">
                                                        <h:inputText id="number1" class="ico_phone" a:placeholder="Enter Phone Number" value="#{WelcomeBean.phone1}"/>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-4 send_theinput">
                                                    <div class="sendairtime">
                                                        <h:inputText id="name1" class="ico_name" a:placeholder="Enter Name"/>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-4 send_theinput">
                                                    <div class="sendairtime">
                                                        <h:inputText id="amount1" class="ico_naira" a:placeholder="Enter Amount" value="#{WelcomeBean.amount1}"/>
                                                    </div> 
                                                </div>
                                            </span>
                                            
                                            
                                            <span class="col-xs-12 send_tomany">
                                                <div class="col-xs-12 col-sm-4 send_theinput">
                                                    <div class="sendairtime">
                                                        <h:inputText id="number2" class="ico_phone" a:placeholder="Enter Phone Number" value="#{WelcomeBean.phone2}"/>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-4 send_theinput">
                                                    <div class="sendairtime">
                                                        <h:inputText id="name2" class="ico_name" a:placeholder="Enter Name"/>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-4 send_theinput">
                                                    <div class="sendairtime">
                                                        <h:inputText id="amount2" class="ico_naira" a:placeholder="Enter Amount" value="#{WelcomeBean.amount2}"/>
                                                    </div> 
                                                </div>
                                            </span>
                                            
                                            
                                            <span class="col-xs-12 send_tomany">
                                                <div class="col-xs-12 col-sm-4 send_theinput">
                                                    <div class="sendairtime">
                                                        <h:inputText id="number3" class="ico_phone" a:placeholder="Enter Phone Number" value="#{WelcomeBean.phone3}"/>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-4 send_theinput">
                                                    <div class="sendairtime">
                                                        <h:inputText id="name3" class="ico_name" a:placeholder="Enter Name"/>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-4 send_theinput">
                                                    <div class="sendairtime">
                                                        <h:inputText id="amount3" class="ico_naira" a:placeholder="Enter Amount" value="#{WelcomeBean.amount3}"/>
                                                    </div> 
                                                </div>
                                            </span>
                                            
                                            
                                            
                                            <div class="col-xs-12 login_submitinput" style="margin-top:17px;">
                                                <h:commandButton value="SEND" action="#{WelcomeBean.confirm()}" onclick="lightcaseON=true">
                                                    <f:ajax execute="send_many" onevent="notifyEditMany()"  rendererType="postValidate" render="editDetailsManyContentPanel :editmany_form"  />
                                                </h:commandButton>
                                            </div>
                                            
                                            
                                        </h:form>
                                        <!-- End FORM -->
                                        
                                        <div id="warning" class="col-xs-12 warning">This is where warnings are displayed!</div>
                                        
                                    </div>
                                    
                                    
                                    
                                    <div id="favorites" class="tab-pane fade">
                                        
                                        <!-- FORM -->
                                        <form class="container-fluid login_form" id="send_fav" action="" style="margin-top:30px;">
                                            
                                            <div class="col-xs-12 fav_theinput">
                                                <div class="col-xs-12 col-sm-4"><div class="sendairtime"><h4>00 000 000 000<em><br />Name 1</em></h4></div></div>
                                                <div class="col-xs-8 col-sm-4"><div class="sendairtime"><input type="text" id="amount" name="amount" class="ico_naira" placeholder="Enter Amount" /></div></div>
                                                <div class="col-xs-4 col-sm-4"><div class="col-xs-12 login_submitinput"><a data-rel="lightcase_forgot" href="confirm.html" style="color:#a3a3a3;text-decoration:none;"><input type="submit" name="submit" value="Send" /></a></div></div>
                                            </div>
                                            
                                            <div class="col-xs-12 fav_theinput">
                                                <div class="col-xs-12 col-sm-4"><div class="sendairtime"><h4>00 000 000 000<em><br />Name 1</em></h4></div></div>
                                                <div class="col-xs-8 col-sm-4"><div class="sendairtime"><input type="text" id="amount" name="amount" class="ico_naira" placeholder="Enter Amount" /></div></div>
                                                <div class="col-xs-4 col-sm-4"><div class="col-xs-12 login_submitinput"><a data-rel="lightcase_forgot" href="confirm.html" style="color:#a3a3a3;text-decoration:none;"><input type="submit" name="submit" value="Send" /></a></div></div>
                                            </div>
                                            
                                            <div class="col-xs-12 fav_theinput">
                                                <div class="col-xs-12 col-sm-4"><div class="sendairtime"><h4>00 000 000 000<em><br />Name 1</em></h4></div></div>
                                                <div class="col-xs-8 col-sm-4"><div class="sendairtime"><input type="text" id="amount" name="amount" class="ico_naira" placeholder="Enter Amount" /></div></div>
                                                <div class="col-xs-4 col-sm-4"><div class="col-xs-12 login_submitinput"><a data-rel="lightcase_forgot" href="confirm.html" style="color:#a3a3a3;text-decoration:none;"><input type="submit" name="submit" value="Send" /></a></div></div>
                                            </div>
                                            
                                            <div class="col-xs-12 fav_theinput">
                                                <div class="col-xs-12 col-sm-4"><div class="sendairtime"><h4>00 000 000 000<em><br />Name 1</em></h4></div></div>
                                                <div class="col-xs-8 col-sm-4"><div class="sendairtime"><input type="text" id="amount" name="amount" class="ico_naira" placeholder="Enter Amount" /></div></div>
                                                <div class="col-xs-4 col-sm-4"><div class="col-xs-12 login_submitinput"><a data-rel="lightcase_forgot" href="confirm.html" style="color:#a3a3a3;text-decoration:none;"><input type="submit" name="submit" value="Send" /></a></div></div>
                                            </div>
                                            
                                            
                                        </form>
                                        <!-- End FORM -->
                                        
                                        <div id="warning" class="col-xs-12 warning">This is where warnings are displayed!</div>
                                        
                                    </div>
                                    
                                    
                                </div>
                                <!-- Tabs -->
                            </div>
                        </span>
                        <!-- IN -->
                    </div>
                </div>
                <!--end buy airtime box -->
                
                
                <!-- End ROW 1 -->
                
                
                
                <div class="clear" style="margin-top:10px;"></div>
                
                
                <!-- ROW 2 -->
                
                <h:panelGroup id="overAll">
                    <h:panelGroup class="col-xs-12 col-sm-12 col-md-6 thebox" rendered="#{RechargeBean.addAmountVisible}">
                        <ui:include src="templates/proceed.xhtml" />  
                    </h:panelGroup>
                    <h:panelGroup class="col-xs-12 col-sm-12 col-md-6 thebox" rendered="#{RechargeBean.checkoutVisible}">
                        <ui:include src="templates/checkout.xhtml" />
                    </h:panelGroup>
                    
                </h:panelGroup>
                
                
                
                <div class="col-xs-12 col-sm-12 col-md-6 thebox">
                    <div class="col-xs-12 dashboardbox" style="margin:0px;margin-top:27px;padding:0px;min-height:420px;overflow-x:auto;">
                        <!-- IN -->
                        <h2>Latest 20 Transactions</h2>
                        <span>
                            <div  class="container-fluid" style="padding:0px;font-family:ubuntu;font-size:13px;">
                                <!-- -->
                                
                                <h:dataTable value="#{WelcomeBean.topUpResponse.destinations}" var="tra"
                                             id="dataTableList"
                                             styleClass="display" 
                                             cellspacing="0" 
                                             width="100%" 
                                             style="padding: 0px;">
                                    
                                    <h:column>
                                        <f:facet name="header">DATE/TIME</f:facet>
                                        <h:outputText value="#{tra.time}">
                                            <f:convertDateTime pattern="yyyy/MM/dd  ,  HH:mm:ss"/>
                                        </h:outputText>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">RECEIVER</f:facet>
                                            #{tra.msisdn}
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">AMOUNT</f:facet>
                                        &#8358;
                                        <h:outputText value="#{tra.amount}">
                                            <f:convertNumber pattern="### ###" type="currency"/>
                                        </h:outputText>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">STATUS</f:facet>
                                            #{tra.status.statusDesc}
                                    </h:column>
                                    
                                </h:dataTable>
                                
                                <!-- -->
                                
                                
                                
                            </div>
                        </span>
                        <!-- IN -->
                    </div>
                </div>
                
                <!-- End ROW 2 -->
                
            </div>
        </div>
        <!-- End CONTENTS -->
        
        <!-- Popup -->
        <div id="viewDetailsContent" style="display:none">
            
            <h:panelGroup id="viewDetailsContentPanel" >
                <ui:include src="popup/view_tra.xhtml" /> 
            </h:panelGroup>
            
            <h:panelGroup id="editDetailsContentPanel">
                <h:form  id="edit_form">
                    <tp:rechargeOneComponent 
                        msisdn="#{WelcomeBean.phone}"
                        amount="#{WelcomeBean.amount}"
                        proceedButtonAction="#{WelcomeBean.approveOne()}"
                        cancelButtonAction="#{WelcomeBean.cancel()}"
                        /> 
                </h:form>
            </h:panelGroup>
            
            <h:panelGroup id="editDetailsManyContentPanel">
                <h:form id="editmany_form">
                    <tp:rechargeManyComponent 
                        msisdn1="#{WelcomeBean.phone1}"
                        amount1="#{WelcomeBean.amount1}"
                        msisdn2="#{WelcomeBean.phone2}"
                        amount2="#{WelcomeBean.amount2}"
                        msisdn3="#{WelcomeBean.phone3}"
                        amount3="#{WelcomeBean.amount3}"
                        proceedButtonAction="#{WelcomeBean.approveMany()}"
                        cancelButtonAction="#{WelcomeBean.cancel()}"
                        /> 
                </h:form>
            </h:panelGroup>
            
        </div>
        <!--End Popup -->
        
        
        <div class="clear" style="margin-bottom:60px;border:0px solid blue;"></div>
        
        <ui:include src="templates/footer_inside.xhtml" />  
        
        
        
        <!-- SCRIPTS -->
        <script type="text/javascript" src="js_cust/mobmenu.js"></script>
        <script>
            $(document).ready(function () {
                $('#parentVerticalTab').easyResponsiveTabs({
                    type: 'vertical',
                    width: 'auto',
                    fit: true,
                    closed: 'accordion',
                    tabidentify: 'hor_1'
                });
            });
        </script>
        
        
        <script type="text/javascript">
            var lightcaseON=true;
            var showEdit=false;
            var showEditMany=false;
            var showDetails=false;
            var turnDataTable=false;
            var content2Show="";
            
            function notifiyViewDetails(){
                showEdit=false;
                showEditMany=false;
                showDetails=true;
            }
            
            function notifyEdit(){
                showEdit=true;
                showEditMany=false;
                showDetails=false;
            }
            
            function notifyEditMany(){
                showEdit=false;
                showEditMany=true;
                showDetails=false;
                
            }
            
            function notifiyDatatableRefresh(){
                
                turnDataTable=true;
                
            }
            
            
            
            jsf.ajax.addOnEvent(function(data) {  
                
                if(!lightcaseON){
                    return;
                }

                switch (data.status) { //Can be "begin", "complete" and "success"
                    
                    case "begin": // This is called right before ajax request is been sent.
                        
                        break;
                    
                    case "complete": // This is called right after ajax response is received.
                     
                        break;
                    case "success": // This is called when ajax response is successfully processed.
                        
                        lightcase.start({
                            href: '#',
                            maxWidth: 640,
                            maxHeight: '700',
                            transition: 'scrollTop',
                            speedIn:'600',
                            speedOut:'600',
                            forceWidth:true,
                            swipe: true,
                            useKeys: true,
                            overlayOpacity:0.8,
                            title:'',
                            showSequenceInfo: false,
                            onFinish: {
                                function () {
                                    
                                    if(showDetails){
                                        
                                        content2Show= $('#viewDetailsContentPanel').html();
                                    }
                                    
                                    if(showEdit){
                                        content2Show= $('#editDetailsContentPanel').html();
                                    }
                                    
                                    if(showEditMany){
                                        content2Show= $('#editDetailsManyContentPanel').html();
                                    }
                                    
                                    if(turnDataTable){
                                        turn2DataTable('dataTableList');
                                        turnDataTable=false;
                                    }
                                    
                                    lightcase.get('contentInner').children().html(content2Show);
                                    // Do a resize now after filling in the content
                                    lightcase.resize();
                                }
                            }
                        });
                        
                        break;
                }
            });
            
        </script> 
        <!-- End SCRIPTS -->
        
        
        
    </h:body>
</html>

